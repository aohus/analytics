# 1. 프로젝트 목표

1) 문제
2019년 1월~12월 NS SHOP+ 편성데이터를 활용하여 2020년 6월 편성표에 따른 판매실적(revenue)을 예측
최적 수익을 고려한 요일별/시간대별/카테고리별 편성 최적화(모형) 제시
 
2) 평가
MAPE 를 통해 2020년 6월의 판매 실적 예측 정확도 평가
예측 정확도와 편성 최적화 방안(모형)을 통합하여 최종 점수 산정
 
# 2. 프로젝트 특징

1) 데이터 구조
훈련데이터의 feature는 6개.  방송일시, 노출시간, 마더코드, 상품코드, 상품명, 상품군, 판매단가로 상품코드와 상품명이 같은 특징인 것을 고려했을 때 6개로 적은 편임
T-commerce 상품은 모든 시간에 고르게 편성되지 않으므로 각 상품의 판매 기록을 시간별로 집계할 경우 데이터의 편중이 심하고 그 결과 특정 상품-시간 조합에 판매 기록이 없어 데이터 희박성 문제가 발생
 
2) 데이터 불균형이 심각한 회귀 문제
예측하고자 하는 대상은 특정 시간에 판매된 특정 상품의 '매출액(revenue)'임.
어떠한 상품에 대해 같은 시간대에 판매한 매출액을 보았을 때 차이가 크며 평소 평균 매출액의 3배에서 10배까지 차이나는 대박상품 혹은 쪽박상품이 있음.

# 3. 프로젝트 과정

1) 예측 성능 향상을 위한 변수 추가
월/주차/휴일유무/시간대 별로 매출액의 유의미한 차이가 있는 것을 확인 후 각각을 변수화
여러 참고자료와 연구결과를 토대로 날씨가 영향을 미칠 것이라고 판단하여 날씨 변수 추가
상품의 특징을 담고 있는 변수가 '상품군(category)' 하나밖에 없어 모델을 만들었을 때 구분이 안 되는 문제를 발견하고 '중분류(midcategory)', '세분류(suncategory)'를 추가함 
 
2) 데이터 희박성 문제 해결
특정 시간대에 편성된 기록이 없는 상품의 매출은 학습데이터의 부재로 인해 모델이 학습하는 데 심각한 문제가 됨. 이 같은 문제 해결을 위해 가우시안 평활화와 SVD(특이값 분해)를 통해 데이터 희박도의 문제 해결
 
3) 데이터 불균형 문제 해결
학습데이터에서 매출이 너무 높거나 낮은 희귀한 케이스에 대해 별도의 모델링 진행
시간 부족으로 시도하지 못함. 추후 시도해 볼 것
 
4) 모델링
결측치 및 오표기 된 데이터 삭제
학습데이터에서 매출이 너무 높거나 낮은 희귀한 케이스 삭제
Random forest, xgboost와 RNN 으로 모델링하여 예측 성능을 향상하는 feature 선택
세 모델 중 MAPE 스코어가 가장 낮은(낮을수록 좋은 성과) xgboost를 선택하여 하이퍼파라미터 튜닝
 
5) 예측 확률값 보정
멋있어 보여서 따라 넣어봄. 나도 하고 싶은데 어떻게 하는 거임?

# 4. 프로젝트의 한계

1) 데이터의 불균형 ('대박' 아이템과 '쪽박' 아이템)
동일한 상품을 같은 시간대에 판매했는데도 '대박'이 나거나 '쪽박'이 난 경우가 있으나 그러한 케이스가 무척 희귀함
학습데이터에서 대박아이템과 쪽박아이템을 삭제하는 것으로 그침. 
시간의 문제로 해결하지 못하였음. 추후 보강 예정.
 
2) 데이터의 결핍
2019년 한 해 데이터만 제공받아 계절의 영향을 받는지 확인이 어려움
T-commerce에 관한 연구 논문 등을 살펴보면 예측의 목표가 되는 달은 목표 달 직전 3개월의 영향을 가장 크게 받음. nsshop+ 에서는 2020년 6월 이전의 데이터, 즉 2020년 1월~5월의 데이터를 제공하지 않아 예측의 한계가 있었을 것으로 예상
 
3) 외부 요인의 영향
2020년은 코로나19의 영향으로 홈쇼핑 매출에 영향이 있었을 것으로 예상하나 이를 측정하고 증명할 방법을 찾지 못함
T-commerce 시장의 성장세, 특히 NS홈쇼핑 자체의 성장이 매출에 미쳤을 영향이 모델에 반영되지 않음

# 5. 프로젝트 결과

채점 중

# 6. 나의 역할

결측치 및 이상치 판단 기준 마련 및 제거
데이터 희박성 문제 해결
모델링 파트 전담
